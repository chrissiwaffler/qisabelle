[["/home/ywu/afp-2021-02-11/thys/DiscretePricing/Disc_Cond_Expect.thy", "lemma (in finite_measure) count_prod: fixes Y::\"'a\\<Rightarrow>'b\" assumes \"B\\<subseteq> space N\" and \"point_measurable M (space N) Y\" and \"integrable M X\" and \"\\<forall> w \\<in> space M. 0 \\<le> X w\" shows \"\\<forall>i. integral\\<^sup>L M (\\<lambda>y. (X y) * (indicator (countable_preimages B Y i \\<inter> space M)) y) = integral\\<^sup>L M (\\<lambda>y. (expl_cond_expect M Y X y) * (indicator (countable_preimages B Y i \\<inter> space M)) y)\""]]