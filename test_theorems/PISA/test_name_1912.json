[["/home/ywu/afp-2021-02-11/thys/List_Update/Phase_Partitioning.thy", "theorem Phase_partitioning_general: fixes P :: \"(nat state * 'is) pmf \\<Rightarrow> nat \\<Rightarrow> nat list \\<Rightarrow> bool\" and A :: \"(nat state,'is,nat,answer) alg_on_rand\" assumes xny: \"(x0::nat) \\<noteq> y0\" and cpos: \"(c::real)\\<ge>0\" and static: \"set \\<sigma> \\<subseteq> {x0,y0}\" and initial: \"P (map_pmf (%is. ([x0,y0],is)) (fst A [x0,y0])) x0 [x0,y0]\" and D: \"\\<And>a b \\<sigma> s. \\<sigma> \\<in> Lxx a b \\<Longrightarrow> a\\<noteq>b \\<Longrightarrow> {a,b}={x0,y0} \\<Longrightarrow> P s a [x0,y0] \\<Longrightarrow> set \\<sigma> \\<subseteq> {a,b} \\<Longrightarrow> T_on_rand' A s \\<sigma> \\<le> c * T\\<^sub>p [a,b] \\<sigma> (OPT2 \\<sigma> [a,b]) \\<and> P (config'_rand A s \\<sigma>) (last \\<sigma>) [x0,y0]\" shows \"T\\<^sub>p_on_rand A [x0,y0] \\<sigma> \\<le> c * T\\<^sub>p_opt [x0,y0] \\<sigma> + c\""]]